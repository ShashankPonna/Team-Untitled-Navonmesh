-- ═══════════════════════════════════════════════════════════════════════════════
-- OptiStock AI - Seed Data
-- Run this AFTER schema.sql in: Supabase Dashboard → SQL Editor → New Query
-- ═══════════════════════════════════════════════════════════════════════════════

-- ─── Locations ──────────────────────────────────────────────────────────────
INSERT INTO locations (id, name, type, city) VALUES
  ('a1000000-0000-0000-0000-000000000001', 'Downtown',     'store',     'New York'),
  ('a1000000-0000-0000-0000-000000000002', 'Mall Central', 'store',     'Los Angeles'),
  ('a1000000-0000-0000-0000-000000000003', 'Airport',      'store',     'Chicago'),
  ('a1000000-0000-0000-0000-000000000004', 'Suburb East',  'store',     'Houston'),
  ('a1000000-0000-0000-0000-000000000005', 'Warehouse A',  'warehouse', 'Dallas');

-- ─── Categories ─────────────────────────────────────────────────────────────
INSERT INTO categories (id, name) VALUES
  ('b1000000-0000-0000-0000-000000000001', 'Electronics'),
  ('b1000000-0000-0000-0000-000000000002', 'Clothing'),
  ('b1000000-0000-0000-0000-000000000003', 'Food'),
  ('b1000000-0000-0000-0000-000000000004', 'Home'),
  ('b1000000-0000-0000-0000-000000000005', 'Sports'),
  ('b1000000-0000-0000-0000-000000000006', 'Beauty'),
  ('b1000000-0000-0000-0000-000000000007', 'Accessories');

-- ─── Products ───────────────────────────────────────────────────────────────
INSERT INTO products (id, name, sku, category_id, cost_price, selling_price, lead_time_days, perishable) VALUES
  ('c1000000-0000-0000-0000-000000000001', 'MacBook Pro 14"',       'ELEC-001', 'b1000000-0000-0000-0000-000000000001', 1499.00, 1999.00, 7,  FALSE),
  ('c1000000-0000-0000-0000-000000000002', 'AirPods Pro',           'ELEC-002', 'b1000000-0000-0000-0000-000000000001', 189.00,  249.00,  5,  FALSE),
  ('c1000000-0000-0000-0000-000000000003', 'USB-C Hub',             'ELEC-003', 'b1000000-0000-0000-0000-000000000001', 29.00,   49.00,   3,  FALSE),
  ('c1000000-0000-0000-0000-000000000004', 'Organic Milk 1L',       'FOOD-001', 'b1000000-0000-0000-0000-000000000003', 3.50,    5.99,    2,  TRUE),
  ('c1000000-0000-0000-0000-000000000005', 'Nike Air Max',          'SPRT-001', 'b1000000-0000-0000-0000-000000000005', 89.00,   149.00,  14, FALSE),
  ('c1000000-0000-0000-0000-000000000006', 'Samsung TV 65"',        'ELEC-004', 'b1000000-0000-0000-0000-000000000001', 799.00,  1299.00, 10, FALSE),
  ('c1000000-0000-0000-0000-000000000007', 'Phone Cases Assorted',  'ACCS-001', 'b1000000-0000-0000-0000-000000000007', 5.00,    19.99,   7,  FALSE),
  ('c1000000-0000-0000-0000-000000000008', 'Wireless Mouse',        'ELEC-005', 'b1000000-0000-0000-0000-000000000001', 19.00,   39.99,   4,  FALSE);

-- ─── Inventory ──────────────────────────────────────────────────────────────
INSERT INTO inventory (product_id, location_id, current_stock, reserved_stock, reorder_point, status, expiry_date) VALUES
  ('c1000000-0000-0000-0000-000000000001', 'a1000000-0000-0000-0000-000000000001', 5,   2,  15, 'critical',  NULL),
  ('c1000000-0000-0000-0000-000000000002', 'a1000000-0000-0000-0000-000000000002', 12,  3,  20, 'warning',   NULL),
  ('c1000000-0000-0000-0000-000000000003', 'a1000000-0000-0000-0000-000000000003', 45,  5,  30, 'good',      NULL),
  ('c1000000-0000-0000-0000-000000000004', 'a1000000-0000-0000-0000-000000000004', 120, 0,  50, 'expiring',  '2026-03-02'),
  ('c1000000-0000-0000-0000-000000000005', 'a1000000-0000-0000-0000-000000000001', 85,  10, 25, 'good',      NULL),
  ('c1000000-0000-0000-0000-000000000006', 'a1000000-0000-0000-0000-000000000005', 200, 15, 30, 'overstock', NULL),
  ('c1000000-0000-0000-0000-000000000007', 'a1000000-0000-0000-0000-000000000005', 540, 20, 100,'overstock', NULL),
  ('c1000000-0000-0000-0000-000000000008', 'a1000000-0000-0000-0000-000000000003', 8,   1,  15, 'warning',   NULL);

-- ─── Transfers ──────────────────────────────────────────────────────────────
INSERT INTO transfers (product_id, from_location_id, to_location_id, quantity, status, created_at) VALUES
  ('c1000000-0000-0000-0000-000000000002', 'a1000000-0000-0000-0000-000000000005', 'a1000000-0000-0000-0000-000000000002', 80,  'in_transit', '2026-02-25T10:00:00Z'),
  ('c1000000-0000-0000-0000-000000000003', 'a1000000-0000-0000-0000-000000000005', 'a1000000-0000-0000-0000-000000000003', 50,  'completed',  '2026-02-23T14:00:00Z'),
  ('c1000000-0000-0000-0000-000000000007', 'a1000000-0000-0000-0000-000000000005', 'a1000000-0000-0000-0000-000000000001', 100, 'pending',    '2026-02-27T08:00:00Z'),
  ('c1000000-0000-0000-0000-000000000005', 'a1000000-0000-0000-0000-000000000001', 'a1000000-0000-0000-0000-000000000004', 20,  'completed',  '2026-02-20T09:00:00Z'),
  ('c1000000-0000-0000-0000-000000000008', 'a1000000-0000-0000-0000-000000000005', 'a1000000-0000-0000-0000-000000000003', 30,  'in_transit', '2026-02-26T11:00:00Z');

-- ─── Alerts ─────────────────────────────────────────────────────────────────
INSERT INTO alerts (type, severity, product_id, location_id, message, created_at) VALUES
  ('reorder',        'high',   'c1000000-0000-0000-0000-000000000001', 'a1000000-0000-0000-0000-000000000001', 'Stock below reorder point. Current: 5, ROP: 15. Suggested order: 50 units.', NOW() - INTERVAL '2 minutes'),
  ('transfer',       'medium', 'c1000000-0000-0000-0000-000000000002', 'a1000000-0000-0000-0000-000000000002', 'Surplus at Warehouse A (200 units). Transfer 80 to Mall Central recommended.', NOW() - INTERVAL '15 minutes'),
  ('expiry',         'high',   'c1000000-0000-0000-0000-000000000004', 'a1000000-0000-0000-0000-000000000004', '48 units expiring in 3 days. Suggest 25% discount for clearance.',           NOW() - INTERVAL '30 minutes'),
  ('stockout',       'high',   'c1000000-0000-0000-0000-000000000003', 'a1000000-0000-0000-0000-000000000003', 'Predicted stockout in 2 days. Lead time is 5 days. Expedite order.',         NOW() - INTERVAL '1 hour'),
  ('overstock',      'low',    'c1000000-0000-0000-0000-000000000007', 'a1000000-0000-0000-0000-000000000005', '180 days of inventory on hand. Consider redistribution or promotion.',       NOW() - INTERVAL '2 hours'),
  ('supplier_delay', 'medium', 'c1000000-0000-0000-0000-000000000006', 'a1000000-0000-0000-0000-000000000001', 'Supplier delivery delayed by 7 days. New ETA: Mar 15. Adjust ROP.',          NOW() - INTERVAL '3 hours');

-- ─── Demand Forecasts ───────────────────────────────────────────────────────
INSERT INTO demand_forecasts (category, date, actual_demand, predicted_demand, lower_bound, upper_bound) VALUES
  ('all', '2026-01-01', 4200, 4050, 3700, 4400),
  ('all', '2026-02-01', 3800, 3900, 3500, 4300),
  ('all', '2026-03-01', 5100, 4850, 4400, 5300),
  ('all', '2026-04-01', 4700, 4800, 4300, 5300),
  ('all', '2026-05-01', 5500, 5350, 4900, 5800),
  ('all', '2026-06-01', 6200, 5900, 5400, 6400),
  ('all', '2026-07-01', NULL, 6300, 5700, 6900),
  ('all', '2026-08-01', NULL, 6800, 6100, 7500),
  ('all', '2026-09-01', NULL, 5900, 5200, 6600);

-- ─── Sales (last 6 months of data for reports) ─────────────────────────────
INSERT INTO sales (product_id, location_id, quantity, revenue, date) VALUES
  -- Downtown
  ('c1000000-0000-0000-0000-000000000001', 'a1000000-0000-0000-0000-000000000001', 25,  49975.00,  '2026-01-15'),
  ('c1000000-0000-0000-0000-000000000001', 'a1000000-0000-0000-0000-000000000001', 30,  59970.00,  '2026-02-15'),
  ('c1000000-0000-0000-0000-000000000005', 'a1000000-0000-0000-0000-000000000001', 40,  5960.00,   '2026-01-15'),
  ('c1000000-0000-0000-0000-000000000005', 'a1000000-0000-0000-0000-000000000001', 55,  8195.00,   '2026-02-15'),
  -- Mall Central
  ('c1000000-0000-0000-0000-000000000002', 'a1000000-0000-0000-0000-000000000002', 150, 37350.00,  '2026-01-15'),
  ('c1000000-0000-0000-0000-000000000002', 'a1000000-0000-0000-0000-000000000002', 180, 44820.00,  '2026-02-15'),
  -- Airport
  ('c1000000-0000-0000-0000-000000000003', 'a1000000-0000-0000-0000-000000000003', 200, 9800.00,   '2026-01-15'),
  ('c1000000-0000-0000-0000-000000000008', 'a1000000-0000-0000-0000-000000000003', 80,  3199.20,   '2026-02-15'),
  -- Suburb East
  ('c1000000-0000-0000-0000-000000000004', 'a1000000-0000-0000-0000-000000000004', 500, 2995.00,   '2026-01-15'),
  ('c1000000-0000-0000-0000-000000000004', 'a1000000-0000-0000-0000-000000000004', 450, 2695.50,   '2026-02-15'),
  -- Warehouse A (wholesale)
  ('c1000000-0000-0000-0000-000000000006', 'a1000000-0000-0000-0000-000000000005', 50,  64950.00,  '2026-01-15'),
  ('c1000000-0000-0000-0000-000000000007', 'a1000000-0000-0000-0000-000000000005', 200, 3998.00,   '2026-02-15');
